import * as React from 'react';
import { render, waitFor, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
// import { BrowserRouter } from 'react-router-dom';

import ActivityPacks from '../activity_packs';
import * as requestsApi from '../../../../../../modules/request/index';

const mockClassroomsResponse = {
  classrooms: [{"id":1452940,"name":"Quill Classroom","code":"demo-15075708","grade":"9","updated_at":"2023-12-19T20:09:03.160Z"}]
};

const mockUnitsResponse = [
  {
    "unit_name": "Starter Baseline Diagnostic (Pre)",
    "activity_name": "Starter Baseline Diagnostic (Pre)",
    "supporting_info": null,
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 4,
    "order_number": null,
    "classroom_unit_id": 7277174,
    "unit_id": 2875220,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.330044",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 1663,
    "activity_uid": "5ac867da-2070-454a-a3db-d16446abf874",
    "unit_created_at": 1702995691.319088,
    "unit_activity_created_at": 1702995691.330044,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963754,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing People, Places, & the Pronoun \"I\" - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.356674",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 886,
    "activity_uid": "-LWHiefGyVwBnxtVCBE2",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.356674,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963755,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Holidays, People, & Places - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.368613",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 887,
    "activity_uid": "-LWHkBdQv7ocHrkfzCZq",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.368613,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963756,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Dates & Holidays - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.379456",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 801,
    "activity_uid": "-LJKkIquxzIw_2BRkT6f",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.379456,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963757,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Names of People & the Pronoun \"I\" - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.388958",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 885,
    "activity_uid": "-LWHmyc7tN6dyqKwiUFe",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.388958,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963758,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Names of People - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.398511",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 804,
    "activity_uid": "-LJL9mgmovJ5NLcnT4hy",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.398511,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963759,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Geographic Names & Holidays - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.409772",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 181,
    "activity_uid": "ljvOeunrkWm1flf8UzkbJQ",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.409772,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963760,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Capitalization (Starter Baseline Recommendation)",
    "activity_name": "Capitalizing Geographic Names - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277175,
    "unit_id": 2875221,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.424461",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 802,
    "activity_uid": "-LJKlQcKOLQag12qoZdt",
    "unit_created_at": 1702995691.349039,
    "unit_activity_created_at": 1702995691.424461,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963761,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Plural vs. Possessive Nouns - Mixed Topics 2",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.446572",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 1440,
    "activity_uid": "258e7980-5671-44d1-b46d-115ea234a00d",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.446572,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963762,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Irregular Plural Nouns - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.458557",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 283,
    "activity_uid": "-KCNBxBe-uau1e2SjqVz",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.458557,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963763,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Proofreading Plural vs. Possessive Nouns - Eleanor Roosevelt",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 1,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.470821",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 252,
    "activity_uid": "-K2sjsd5Ni4z3ikgtL7D",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.470821,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963764,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Plural vs. Possessive Nouns - Mixed Topics 3",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.481128",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 808,
    "activity_uid": "-LJVfDfTAZ45WfBuusDf",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.481128,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963765,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Plural vs. Possessive Nouns - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.492407",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 1308,
    "activity_uid": "-LVcwSCZZ_cP_iWWJank",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.492407,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963766,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Plural and Possessive Nouns (Starter Baseline Recommendation)",
    "activity_name": "Regular Plural Nouns - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 2,
    "order_number": null,
    "classroom_unit_id": 7277176,
    "unit_id": 2875222,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.508309",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 803,
    "activity_uid": "-LJKuRddkq7eF6TO50bs",
    "unit_created_at": 1702995691.439615,
    "unit_activity_created_at": 1702995691.508309,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963767,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Prepositional Phrases (Starter Baseline Recommendation)",
    "activity_name": "Adjectives, Adverbs, & Prepositional Phrases - Mixed Topics 1",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277177,
    "unit_id": 2875223,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.530297",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 846,
    "activity_uid": "-LM981iruhHerFr096dJ",
    "unit_created_at": 1702995691.522604,
    "unit_activity_created_at": 1702995691.530297,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963768,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 1,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Prepositional Phrases (Starter Baseline Recommendation)",
    "activity_name": "Placing Prepositional Phrases - Weather",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277177,
    "unit_id": 2875223,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.542298",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 600,
    "activity_uid": "-Kw25fN0OSfS6kU_w7yS",
    "unit_created_at": 1702995691.522604,
    "unit_activity_created_at": 1702995691.542298,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963769,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Prepositional Phrases (Starter Baseline Recommendation)",
    "activity_name": "Prepositional Phrases with In & On - Grand Teton National Park",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277177,
    "unit_id": 2875223,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.554246",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 712,
    "activity_uid": "-L5Ag5RrmtBSRh6TB9Q6",
    "unit_created_at": 1702995691.522604,
    "unit_activity_created_at": 1702995691.554246,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963770,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Prepositional Phrases (Starter Baseline Recommendation)",
    "activity_name": "Prepositional Phrases with At, In, On, & To - A Farmer",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277177,
    "unit_id": 2875223,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.566998",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 599,
    "activity_uid": "-Kw1zJ3DU25X8YSuVVJe",
    "unit_created_at": 1702995691.522604,
    "unit_activity_created_at": 1702995691.566998,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963771,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Prepositional Phrases (Starter Baseline Recommendation)",
    "activity_name": "Subject-Verb Agreement with Interrupters - Mixed Topics",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 5,
    "order_number": null,
    "classroom_unit_id": 7277177,
    "unit_id": 2875223,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.577668",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 765,
    "activity_uid": "-LBWRscJd9KC6K5UVL_Z",
    "unit_created_at": 1702995691.522604,
    "unit_activity_created_at": 1702995691.577668,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963772,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Starter Growth Diagnostic (Post)",
    "activity_name": "Starter Growth Diagnostic (Post)",
    "supporting_info": null,
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 4,
    "order_number": null,
    "classroom_unit_id": 7277178,
    "unit_id": 2875224,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.599697",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 1664,
    "activity_uid": "01011314-7332-4321-a6ad-4e60871af114",
    "unit_created_at": 1702995691.591249,
    "unit_activity_created_at": 1702995691.599697,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963773,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Reading for Evidence Pack",
    "activity_name": "How Do Oxpeckers Help Black Rhinos? [Beta]",
    "supporting_info": null,
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 9,
    "order_number": null,
    "classroom_unit_id": 7277179,
    "unit_id": 2875225,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.62291",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 2371,
    "activity_uid": "vt85HKn8j33kAP4GD_XTTQ",
    "unit_created_at": 1702995691.615919,
    "unit_activity_created_at": 1702995691.62291,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963774,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Reading for Evidence Pack",
    "activity_name": "Should Cell Phones Be Banned in Schools? [Beta]",
    "supporting_info": null,
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 9,
    "order_number": null,
    "classroom_unit_id": 7277179,
    "unit_id": 2875225,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.634727",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 2317,
    "activity_uid": "0ngTu1oOJtQyxhMpnei36g",
    "unit_created_at": 1702995691.615919,
    "unit_activity_created_at": 1702995691.634727,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963775,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  },
  {
    "unit_name": "Reading for Evidence Pack",
    "activity_name": "Are Surge Barriers Worth the Ecological Cost? [Beta]",
    "supporting_info": "",
    "class_name": "Quill Classroom",
    "classroom_id": 1452940,
    "activity_classification_id": 9,
    "order_number": null,
    "classroom_unit_id": 7277179,
    "unit_id": 2875225,
    "assigned_student_ids": [15078055,15078054,15078053,15078052,15078051],
    "class_size": 5,
    "due_date": null,
    "publish_date": "2023-12-19 07:21:31.646878",
    "completed": null,
    "ua_publish_date": null,
    "activity_id": 1676,
    "activity_uid": "gQCvUMaOfEL_Pgdd1YezcQ",
    "unit_created_at": 1702995691.615919,
    "unit_activity_created_at": 1702995691.646878,
    "teach_own_or_coteach": "teach",
    "owner_name": "Demo Teacher",
    "unit_activity_id": 16963776,
    "open": true,
    "owned_by_current_user": true,
    "staggered": false,
    "started_count": 0,
    "number_of_assigned_students": 5,
    "scheduled": null
  }
]

describe('ActivityPacks', () => {
  beforeEach(() => {
    jest.spyOn(requestsApi, 'requestGet').mockImplementation((url, callback) => {
      if (url.includes('/teachers/classrooms/classrooms_i_teach')) {
        callback(mockClassroomsResponse);
      } else if (url.includes('/teachers/units')) {
        callback(mockUnitsResponse);
      } else if (url.includes('score_info_for_activity')) {
        callback({ cumulative_score: 57, completed_count: 3})
      } else {
        callback({});
      }
    });
  });

  afterEach(() => {
    jest.restoreAllMocks();
  });

  test('it should render with initial loading state', async () => {
    const { asFragment, queryByAltText, } = render(<ActivityPacks />);

    expect(asFragment()).toMatchSnapshot();
  });

  test('it should render once loading is finished', async () => {
    const { asFragment, queryByAltText, } = render(<ActivityPacks />);

    await waitFor(() => expect(queryByAltText('Loading spinner')).toBeNull());

    expect(asFragment()).toMatchSnapshot();
  });

  test('it should render EmptyProgressReport when there are no classrooms', async () => {
    requestsApi.requestGet.mockImplementation((url, callback) => {
      if (url.includes('/teachers/classrooms/classrooms_i_teach')) {
        callback({ classrooms: [] });
      } else {
        callback({});
      }
    });

    const { asFragment, queryByAltText, } = render(<ActivityPacks />);

    await waitFor(() => expect(queryByAltText('Loading spinner')).toBeNull());
    
    expect(asFragment()).toMatchSnapshot();
  });

  test('it should render EmptyProgressReport for no activities for selected classroom', async () => {
    requestsApi.requestGet.mockImplementation((url, callback) => {
      if (url.includes('/teachers/classrooms/classrooms_i_teach')) {
        callback(mockClassroomsResponse);
      } else if (url.includes('/teachers/units')) {
        callback([]);
      } else {
        callback({});
      }
    });

    const { asFragment, queryByAltText, } = render(<ActivityPacks />);

    await waitFor(() => expect(queryByAltText('Loading spinner')).toBeNull());

    expect(asFragment()).toMatchSnapshot();
  });

  test('it should render EmptyProgressReport for no activities at all', async () => {
    requestsApi.requestGet.mockImplementation((url, callback) => {
      if (url.includes('/teachers/classrooms/classrooms_i_teach')) {
        callback(mockClassroomsResponse);
      } else if (url.includes('/teachers/units')) {
        callback([]);
      } else {
        callback({});
      }
    });

    const { asFragment, queryByAltText, } = render(<ActivityPacks />);

    await waitFor(() => expect(queryByAltText('Loading spinner')).toBeNull());

    expect(asFragment()).toMatchSnapshot();
  });

});
